# Rhiza Core Template Bundle Definitions
#
# This file defines LANGUAGE-AGNOSTIC template bundles that can be inherited
# by language-specific Rhiza templates (rhiza, rhiza-go, etc.).
#
# Usage in language-specific templates (.rhiza/template.yml):
#
#   repository: Jebel-Quant/rhiza-core
#   ref: v0.1.0
#
#   templates:
#     - core
#     - github
#     - docker
#     - lfs
#
# Language-specific templates should define their own bundles for:
# - Testing frameworks (pytest, go test, cargo test, etc.)
# - Quality tools (ruff, golangci-lint, clippy, etc.)
# - Build systems (uv, cargo, go modules, npm, etc.)

# Schema version for this bundles file format
version: "0.1.0"

# Bundle Definitions
bundles:
  # ============================================================================
  # CORE - Required language-agnostic infrastructure
  # ============================================================================
  core:
    description: "Core language-agnostic Rhiza infrastructure"
    required: true
    standalone: true
    files:
      # Core Rhiza files
      - .rhiza/rhiza.mk
      - .rhiza/.cfg.toml
      - .rhiza/.env
      - .rhiza/.gitignore
      - .rhiza/.rhiza-version
      - .rhiza/make.d/custom-env.mk
      - .rhiza/make.d/custom-task.mk
      - .rhiza/make.d/README.md
      - .rhiza/docs
      - .rhiza/assets

      # Root configuration files (language-agnostic)
      - .editorconfig
      - .gitignore

      # Documentation files
      - docs/TEMPLATE_DEVELOPMENT.md

  # ============================================================================
  # GITHUB - GitHub Actions and GitHub CLI helpers
  # ============================================================================
  github:
    description: "GitHub Actions workflows and GitHub CLI helpers (language-agnostic)"
    standalone: true
    requires: [core]
    files:
      # Make targets for GitHub CLI
      - .rhiza/make.d/github.mk
      - .rhiza/make.d/agentic.mk
      
      # Core GitHub Actions workflows (language-agnostic)
      - .github/workflows/copilot-setup-steps.yml
      - .github/workflows/rhiza_validate.yml
      - .github/workflows/rhiza_sync.yml
      - .github/actions/configure-git-auth
      - .github/dependabot.yml
      - .github/copilot-instructions.md
      - .github/agents
      - .github/hooks

  # ============================================================================
  # RENOVATE - Automated dependency updates
  # ============================================================================
  renovate:
    description: "Renovate bot configuration for automated dependency updates"
    standalone: true
    requires: []
    files:
      # Renovate configuration
      - renovate.json

  # ============================================================================
  # LEGAL - Legal and community files
  # ============================================================================
  legal:
    description: "Legal and community documentation files"
    standalone: true
    requires: []
    files:
      # Legal files
      - LICENSE

      # Community files
      - CONTRIBUTING.md
      - CODE_OF_CONDUCT.md

  # ============================================================================
  # DOCKER - Docker containerization support
  # ============================================================================
  docker:
    description: "Docker containerization support (language-agnostic make targets)"
    standalone: true
    requires: []
    files:
      # Make targets (language-agnostic)
      - .rhiza/make.d/docker.mk
      
      # Note: Dockerfile itself is language-specific and should be
      # provided by rhiza-<language> templates

  # ============================================================================
  # LFS - Git Large File Storage support
  # ============================================================================
  lfs:
    description: "Git LFS (Large File Storage) installation and management"
    standalone: true
    requires: []
    files:
      # Make targets for LFS
      - .rhiza/make.d/lfs.mk

      # Documentation
      - .rhiza/docs/LFS.md

  # ============================================================================
  # BOOK - Documentation book generation (language-agnostic framework)
  # ============================================================================
  book:
    description: "Documentation book generation framework using minibook"
    standalone: true
    requires: []
    files:
      # Book building configuration (language-agnostic)
      - .rhiza/make.d/book.mk
      - .rhiza/templates/minibook
      
      # Note: Language-specific templates should add their own
      # documentation requirements and configurations

  # ============================================================================
  # RELEASE - Release automation and version management
  # ============================================================================
  release:
    description: "Release automation and version management (language-agnostic framework)"
    standalone: true
    requires: [core]
    files:
      # Release Make targets
      - .rhiza/make.d/releasing.mk
      
      # Note: Language-specific release workflows (PyPI, Go modules, npm, etc.)
      # should be provided by rhiza-<language> templates
